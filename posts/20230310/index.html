<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>DayALG_BFS:BFS算法真题 | TreeioView</title><meta name="description" content="跳转返回目录Day1:目录 | TreeioView 填空题1、BFS-扩散问题描述 小蓝在一张无限大的特殊画布上作画。 这张画布可以看成一个方格图，每个格子可以用一个二维的整数坐标表示。 小蓝在画布上首先点了一下几个点：(0,0),(2020,11),(11,14),(2000,2000)。 只有这几个格子上有黑色，其它位置都是白色的。 每过一分钟，黑色就会扩散一点。具体的，如果一个格子里面是黑"><meta name="keywords" content="蓝桥杯"><meta name="author" content="TreeioView"><meta name="copyright" content="TreeioView"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://treeioview.github.io/posts/20230310/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//zz.bdstatic.com"/><meta property="og:type" content="article"><meta property="og:title" content="DayALG_BFS:BFS算法真题"><meta property="og:url" content="https://treeioview.github.io/posts/20230310/"><meta property="og:site_name" content="TreeioView"><meta property="og:description" content="跳转返回目录Day1:目录 | TreeioView 填空题1、BFS-扩散问题描述 小蓝在一张无限大的特殊画布上作画。 这张画布可以看成一个方格图，每个格子可以用一个二维的整数坐标表示。 小蓝在画布上首先点了一下几个点：(0,0),(2020,11),(11,14),(2000,2000)。 只有这几个格子上有黑色，其它位置都是白色的。 每过一分钟，黑色就会扩散一点。具体的，如果一个格子里面是黑"><meta property="og:image" content="https://dogefs.s3.ladydaily.com/~/source/wallhaven/full/yx/wallhaven-yxq3r7.png?w=2560&amp;h=1440&amp;fmt=webp"><meta property="article:published_time" content="2023-03-10T04:00:00.000Z"><meta property="article:modified_time" content="2023-04-07T15:20:41.943Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="prev" title="Daily1-20:1随机题10+10" href="https://treeioview.github.io/posts/202303daily1/"><link rel="next" title="DayALG_DFS:DFS算法真题" href="https://treeioview.github.io/posts/20230308/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: false,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: true,
  fancybox: true,
  Snackbar: {"bookmark":{"message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: true,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false    
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2023-04-07 23:20:41'
}</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><div class="aplayer" data-id="47897219" data-server="netease" data-type="playlist" data-fixed="true" data-listFolded="true" data-order="list" data-preload="auto"></div><link rel="stylesheet" href="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.css"><script src="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@master/Hexo/css/flink.min.css"><meta name="generator" content="Hexo 5.4.2"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">26</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">1</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div></div><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B7%B3%E8%BD%AC%E8%BF%94%E5%9B%9E%E7%9B%AE%E5%BD%95"><span class="toc-number">1.</span> <span class="toc-text">跳转返回目录</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A1%AB%E7%A9%BA%E9%A2%98"><span class="toc-number">2.</span> <span class="toc-text">填空题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1%E3%80%81BFS-%E6%89%A9%E6%95%A3"><span class="toc-number">3.</span> <span class="toc-text">1、BFS-扩散</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2%E3%80%81BFS-%E8%B7%B3%E8%9A%B1%E8%9C%A2"><span class="toc-number">4.</span> <span class="toc-text">2、BFS-跳蚱蜢</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3%E3%80%81BFS-%E5%89%AA%E9%82%AE%E7%A5%A8"><span class="toc-number">5.</span> <span class="toc-text">3、BFS-剪邮票</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BC%96%E7%A8%8B%E9%A2%98"><span class="toc-number">6.</span> <span class="toc-text">编程题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1%E3%80%81BFS-%E7%A9%BF%E8%B6%8A%E9%9B%B7%E5%8C%BA"><span class="toc-number">7.</span> <span class="toc-text">1、BFS-穿越雷区</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2%E3%80%81BFS-%E5%85%A8%E7%90%83%E5%8F%98%E6%9A%96"><span class="toc-number">8.</span> <span class="toc-text">2、BFS-全球变暖</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3%E3%80%81BFS-%E5%8D%A1%E7%89%87%E6%8D%A2%E4%BD%8D"><span class="toc-number">9.</span> <span class="toc-text">3、BFS-卡片换位</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4%E3%80%81BFS-%E4%B9%9D%E5%AE%AB%E9%87%8D%E6%8E%92"><span class="toc-number">10.</span> <span class="toc-text">4、BFS-九宫重排</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5%E3%80%81BFS-%E9%95%BF%E8%8D%89"><span class="toc-number">11.</span> <span class="toc-text">5、BFS-长草</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6%E3%80%81BFS-%E8%B5%B0%E8%BF%B7%E5%AE%AB"><span class="toc-number">12.</span> <span class="toc-text">6、BFS-走迷宫</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7%E3%80%81BFS-%E6%9C%80%E5%B0%91%E6%93%8D%E4%BD%9C%E6%95%B0"><span class="toc-number">13.</span> <span class="toc-text">7、BFS-最少操作数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E8%87%AA%E8%AF%84"><span class="toc-number">14.</span> <span class="toc-text">题目自评</span></a></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><header class="post-bg" id="page-header" style="background-image: url(https://dogefs.s3.ladydaily.com/~/source/wallhaven/full/yx/wallhaven-yxq3r7.png?w=2560&amp;h=1440&amp;fmt=webp)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">TreeioView</a></span><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">DayALG_BFS:BFS算法真题</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2023-03-10 12:00:00"><i class="far fa-calendar-alt fa-fw"></i> 发表于 2023-03-10</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2023-04-07 23:20:41"><i class="fas fa-history fa-fw"></i> 更新于 2023-04-07</span></time></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="跳转返回目录"><a href="#跳转返回目录" class="headerlink" title="跳转返回目录"></a>跳转返回目录</h1><p><a href="https://treeioview.github.io/posts/20230201/">Day1:目录 | TreeioView</a></p>
<h1 id="填空题"><a href="#填空题" class="headerlink" title="填空题"></a>填空题</h1><h1 id="1、BFS-扩散"><a href="#1、BFS-扩散" class="headerlink" title="1、BFS-扩散"></a>1、BFS-扩散</h1><p><strong>问题描述</strong></p>
<p>小蓝在一张无限大的特殊画布上作画。</p>
<p>这张画布可以看成一个方格图，每个格子可以用一个二维的整数坐标表示。</p>
<p>小蓝在画布上首先点了一下几个点：(0,0),(2020,11),(11,14),(2000,2000)。</p>
<p>只有这几个格子上有黑色，其它位置都是白色的。</p>
<p>每过一分钟，黑色就会扩散一点。具体的，如果一个格子里面是黑色，它就会扩散到上、下、左、右四个相邻的格子中，使得这四个格子也变成黑色（如果原来就是黑色，则还是黑色）。</p>
<p>请问，经过 2020分钟后，画布上有多少个格子是黑色的。</p>
<p><strong>自己的解法与答案</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">第二次做的代码：</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line">start_pos=[(<span class="number">0</span>,<span class="number">0</span>),(<span class="number">2020</span>,<span class="number">11</span>),(<span class="number">11</span>,<span class="number">14</span>),(<span class="number">2000</span>,<span class="number">2000</span>)]</span><br><span class="line">time=<span class="number">2020</span></span><br><span class="line">num=<span class="number">4</span></span><br><span class="line">op=[(-<span class="number">1</span>,<span class="number">0</span>),(<span class="number">1</span>,<span class="number">0</span>),(<span class="number">0</span>,-<span class="number">1</span>),(<span class="number">0</span>,<span class="number">1</span>)]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bfs</span>():</span><br><span class="line">  <span class="keyword">global</span> num</span><br><span class="line">  pop_pos=deque([(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>),(<span class="number">2020</span>,<span class="number">11</span>,<span class="number">0</span>),(<span class="number">11</span>,<span class="number">14</span>,<span class="number">0</span>),(<span class="number">2000</span>,<span class="number">2000</span>,<span class="number">0</span>)])</span><br><span class="line">  vis=<span class="built_in">set</span>([(<span class="number">0</span>,<span class="number">0</span>),(<span class="number">2020</span>,<span class="number">11</span>),(<span class="number">11</span>,<span class="number">14</span>),(<span class="number">2000</span>,<span class="number">2000</span>)])<span class="comment">#四点同时扩散比用for循环先后对四个点扩散更便捷且正确。</span></span><br><span class="line">  <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    (i,j,step)=pop_pos.popleft()</span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> op:</span><br><span class="line">      p1=i+k[<span class="number">0</span>]</span><br><span class="line">      p2=j+k[<span class="number">1</span>]</span><br><span class="line">      p_step=step+<span class="number">1</span></span><br><span class="line">      <span class="keyword">if</span> p_step&gt;time:</span><br><span class="line">        <span class="keyword">return</span> num</span><br><span class="line">      <span class="keyword">if</span> (p1,p2) <span class="keyword">not</span> <span class="keyword">in</span> vis:</span><br><span class="line">        vis.add((p1,p2))</span><br><span class="line">        pop_pos.append((p1,p2,p_step))</span><br><span class="line">        num+=<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(bfs())</span><br><span class="line">答案：<span class="number">20312088</span> <span class="comment">#运行超时，但思路正确，结果正确。运行约30秒。</span></span><br></pre></td></tr></table></figure>

<p><strong>备注</strong></p>
<p>借鉴“BFS-最小操作数”使用deque和set来减少程序运行时间。</p>
<p><strong>输出判定链接及题解</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/1019/learning/?page=1&first_category_id=1&sort=students_count&second_category_id=3&name=%E6%89%A9%E6%95%A3">扩散 - 蓝桥云课 (lanqiao.cn)</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 直接加入列表会超时</span></span><br><span class="line"><span class="comment"># 曼哈顿距离！ |x2-x1|+|y2-y1| = d</span></span><br><span class="line"><span class="comment"># 则边缘点，最小x是0-2020,最大是2020+2020</span></span><br><span class="line"><span class="comment">##最小y是0-2020,最大y是2000+2020</span></span><br><span class="line"><span class="comment">##所以那个画布边缘点已找到</span></span><br><span class="line"><span class="comment">#为啥用曼哈顿距离？因为只能左右上下走不能斜着走（欧几里得），上下左右行走的距离为曼哈顿距离</span></span><br><span class="line"><span class="comment"># 计算新生成的点与原来的点的曼哈顿距离&lt;=2020即可</span></span><br><span class="line"><span class="comment">##两点之间，路线不一致的时候，曼哈顿距离相同...所以直接得到2020步走了2020单位的距离</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># x = [0,2020,11,2000]</span></span><br><span class="line"><span class="comment"># y = [0,11,14,2000]</span></span><br><span class="line"><span class="comment"># ans = 0</span></span><br><span class="line"><span class="comment"># for i in range(0-2020,2020+2020+1):</span></span><br><span class="line"><span class="comment">#     for j in range(0-2020,2000+2020+1):</span></span><br><span class="line"><span class="comment">#         for k in range(4):</span></span><br><span class="line"><span class="comment">#             if abs(x[k]-i)+abs(y[k]-j)&lt;=2020:</span></span><br><span class="line"><span class="comment">#                 ans+=1</span></span><br><span class="line"><span class="comment">#                 break</span></span><br><span class="line"><span class="comment">#             #防止重复 所以满足一个点即可输出</span></span><br><span class="line"><span class="comment"># print(ans)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">20312088</span>)</span><br><span class="line">答案：<span class="number">20312088</span></span><br></pre></td></tr></table></figure>

<p><strong>备注</strong></p>
<p><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%9B%BC%E5%93%88%E9%A1%BF%E8%B7%9D%E7%A6%BB/743092">曼哈顿距离_百度百科 (baidu.com)</a></p>
<h1 id="2、BFS-跳蚱蜢"><a href="#2、BFS-跳蚱蜢" class="headerlink" title="2、BFS-跳蚱蜢"></a>2、BFS-跳蚱蜢</h1><p><strong>问题描述</strong></p>
<p>如下图所示： 有 9 只盘子，排成 1 个圆圈。 其中 8 只盘子内装着 8 只蚱蜢，有一个是空盘。 我们把这些蚱蜢顺时针编号为 1~ 8。</p>
<p><img src= "/img/loading.gif" data-src="https://doc.shiyanlou.com/courses/uid1580206-20210317-1615963722953" alt="图片描述"></p>
<p>每只蚱蜢都可以跳到相邻的空盘中， 也可以再用点力，越过一个相邻的蚱蜢跳到空盘中。</p>
<p>请你计算一下，如果要使得蚱蜢们的队形改为按照逆时针排列， 并且保持空盘的位置不变（也就是1−8 换位，2−7换位,…），至少要经过多少次跳跃？</p>
<p><strong>自己的解法与答案</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">from collections import deque</span></span><br><span class="line"><span class="string">start_str=&#x27;12345678_&#x27;</span></span><br><span class="line"><span class="string">#start_list=deque(start_str)</span></span><br><span class="line"><span class="string">end_str=&#x27;87654321_&#x27;</span></span><br><span class="line"><span class="string">op=[1,-1,2,-2]</span></span><br><span class="line"><span class="string">def bfs():</span></span><br><span class="line"><span class="string">  pop_list=deque([(&#x27;12345678_&#x27;,0)])</span></span><br><span class="line"><span class="string">  vis=set([&#x27;12345678_&#x27;])</span></span><br><span class="line"><span class="string">  while pop_list:</span></span><br><span class="line"><span class="string">    (now_str,step)=pop_list.popleft()</span></span><br><span class="line"><span class="string">    now_list=deque(now_str)</span></span><br><span class="line"><span class="string">    index=now_list.index(&#x27;_&#x27;)</span></span><br><span class="line"><span class="string">    for k in op:</span></span><br><span class="line"><span class="string">      p=(index+k)%9</span></span><br><span class="line"><span class="string">      now_list[index],now_list[p]=now_list[p],now_list[index]</span></span><br><span class="line"><span class="string">      now_str=&#x27;&#x27;.join(now_list)</span></span><br><span class="line"><span class="string">      if now_str==end_str:</span></span><br><span class="line"><span class="string">        return step+1</span></span><br><span class="line"><span class="string">      if now_str not in vis:</span></span><br><span class="line"><span class="string">        vis.add(now_str)</span></span><br><span class="line"><span class="string">        pop_list.append((now_str,step+1))</span></span><br><span class="line"><span class="string">      now_list[index],now_list[p]=now_list[p],now_list[index]</span></span><br><span class="line"><span class="string">print(bfs())</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">20</span>)</span><br><span class="line">答案：运行超时，但出结果较快。</span><br></pre></td></tr></table></figure>

<p><strong>输出判定链接及题解</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/642/learning/">跳蚱蜢 - 蓝桥云课 (lanqiao.cn)</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_51118755/article/details/123221115">蓝桥杯-跳蚱蜢-python-CSDN博客</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">from collections import *</span></span><br><span class="line"><span class="string">def insertQueue(q: deque, dir: int, news: tuple, vis):</span></span><br><span class="line"><span class="string">    pos = news[1]</span></span><br><span class="line"><span class="string">    status = news[0]</span></span><br><span class="line"><span class="string">    insertPos = (pos + dir + 9) % 9</span></span><br><span class="line"><span class="string">    t = list(status)</span></span><br><span class="line"><span class="string">    t[pos], t[insertPos] = t[insertPos], t[pos]</span></span><br><span class="line"><span class="string">    addstatus = &quot; &quot;.join(t)</span></span><br><span class="line"><span class="string">    if addstatus not in vis:</span></span><br><span class="line"><span class="string">        vis.add(addstatus)</span></span><br><span class="line"><span class="string">        q.append((addstatus, insertPos, news[2] + 1))</span></span><br><span class="line"><span class="string">q = deque()</span></span><br><span class="line"><span class="string">q.append((&quot;012345678&quot;, 0, 0))</span></span><br><span class="line"><span class="string">vis = set()</span></span><br><span class="line"><span class="string">vis.add(&quot;012345678&quot;)</span></span><br><span class="line"><span class="string">while q:</span></span><br><span class="line"><span class="string">    news = q.popleft()</span></span><br><span class="line"><span class="string">    if news[0] == &quot;087654321&quot;:  # 达到了目标状态</span></span><br><span class="line"><span class="string">        print(news[2])</span></span><br><span class="line"><span class="string">        break</span></span><br><span class="line"><span class="string">    insertQueue(q, -2, news, vis)</span></span><br><span class="line"><span class="string">    insertQueue(q, -1, news, vis)</span></span><br><span class="line"><span class="string">    insertQueue(q, 1, news, vis)</span></span><br><span class="line"><span class="string">    insertQueue(q, 2, news, vis)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">20</span>)</span><br><span class="line">思路类似，也运行超时</span><br><span class="line">答案：<span class="number">20</span></span><br></pre></td></tr></table></figure>

<h1 id="3、BFS-剪邮票"><a href="#3、BFS-剪邮票" class="headerlink" title="3、BFS-剪邮票"></a>3、BFS-剪邮票</h1><p><strong>问题描述</strong></p>
<p>如【图1.jpg】, 有12张连在一起的12生肖的邮票。</p>
<p><img src= "/img/loading.gif" data-src="https://dn-simplecloud.shiyanlou.com/courses/uid1357404-20211006-1633515373035" alt="image"></p>
<p>现在你要从中剪下 5 张来，要求必须是连着的。</p>
<p>（仅仅连接一个角不算相连） 比如，【图2.jpg】，【图3.jpg】中，粉红色所示部分就是合格的剪取。</p>
<p><img src= "/img/loading.gif" data-src="https://dn-simplecloud.shiyanlou.com/courses/uid1357404-20211006-1633515376850" alt="image"></p>
<p><img src= "/img/loading.gif" data-src="https://dn-simplecloud.shiyanlou.com/courses/uid1357404-20211006-1633515383136" alt="image"></p>
<p>请你计算，一共有多少种不同的剪取方法。</p>
<p><strong>自己的解法与答案</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">参考题解思路后：</span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> combinations</span><br><span class="line">s=[(i,j) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>) <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>)]</span><br><span class="line">op=[(-<span class="number">1</span>,<span class="number">0</span>),(<span class="number">1</span>,<span class="number">0</span>),(<span class="number">0</span>,-<span class="number">1</span>),(<span class="number">0</span>,<span class="number">1</span>)]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bfs</span>(<span class="params">x</span>):</span><br><span class="line">  temp=x[<span class="number">2</span>]</span><br><span class="line">  vis=[]</span><br><span class="line">  vis.append(temp)</span><br><span class="line">  lis=[]</span><br><span class="line">  lis.append(temp)</span><br><span class="line">  flag=<span class="number">1</span></span><br><span class="line">  <span class="keyword">while</span> lis:</span><br><span class="line">    temp=lis.pop()</span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">      p1=temp[<span class="number">0</span>]+op[k][<span class="number">0</span>]</span><br><span class="line">      p2=temp[<span class="number">1</span>]+op[k][<span class="number">1</span>]</span><br><span class="line">      <span class="keyword">if</span> <span class="number">0</span>&lt;=p1&lt;<span class="number">3</span> <span class="keyword">and</span> <span class="number">0</span>&lt;=p2&lt;<span class="number">4</span>:</span><br><span class="line">        <span class="keyword">if</span> (p1,p2) <span class="keyword">in</span> x <span class="keyword">and</span> (p1,p2) <span class="keyword">not</span> <span class="keyword">in</span> vis:</span><br><span class="line">          lis.append((p1,p2))</span><br><span class="line">          vis.append((p1,p2))</span><br><span class="line">          flag+=<span class="number">1</span></span><br><span class="line">  <span class="keyword">if</span> flag==<span class="number">5</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">res=<span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> cs <span class="keyword">in</span> combinations(s,<span class="number">5</span>):</span><br><span class="line">  res+=bfs(cs)</span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line">答案：<span class="number">116</span></span><br></pre></td></tr></table></figure>

<p><strong>经验教训</strong></p>
<p>dfs无法包含例二的情况，故用bfs。</p>
<p>母函数的列表作为输入传入子函数，能被.sort()改变顺序，为了不改变原列表，建议用sorted()；不传入，列表作为全局变量直接能被append()、pop()、.sort()改变。</p>
<p>嵌套列表不能被set()去重。</p>
<p><strong>输出判定链接及题解</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/1505/learning/?page=1&first_category_id=1&sort=students_count&category_id=3&name=%E9%82%AE%E7%A5%A8">剪邮票 - 蓝桥云课 (lanqiao.cn)</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">略</span><br><span class="line">答案：<span class="number">116</span></span><br></pre></td></tr></table></figure>



<h1 id="编程题"><a href="#编程题" class="headerlink" title="编程题"></a>编程题</h1><h1 id="1、BFS-穿越雷区"><a href="#1、BFS-穿越雷区" class="headerlink" title="1、BFS-穿越雷区"></a>1、BFS-穿越雷区</h1><p><strong>问题描述</strong></p>
<p>X 星的坦克战车很奇怪，它必须交替地穿越正能量辐射区和负能量辐射区才能保持正常运转，否则将报废。</p>
<p>某坦克需要从 A 区到 B 区去（ A，B 区本身是安全区，没有正能量或负能量特征），怎样走才能路径最短？</p>
<p>已知的地图是一个方阵，上面用字母标出了 A，B 区，其它区都标了正号或负号分别表示正负能量辐射区。</p>
<p>例如：</p>
<p>A + - + -</p>
<p>- + - - +</p>
<p>- + + + -</p>
<p>+ - + - +</p>
<p>B + - + -</p>
<p>坦克车只能水平或垂直方向上移动到相邻的区。</p>
<p>输入描述</p>
<p>第一行是一个整数 n，表示方阵的大小， 4≤n&lt;100。</p>
<p>接下来是 n 行，每行有 n 个数据，可能是 A，B，+，- 中的某一个，中间用空格分开。A，B 都只出现一次。</p>
<p>输出描述</p>
<p>输出一个整数，表示坦克从 A 区到 B 区的最少移动步数。</p>
<p>如果没有方案，则输出 -1。</p>
<p>输入输出样例</p>
<p>示例</p>
<blockquote>
<p>输入</p>
</blockquote>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">A + - + -</span><br><span class="line">- + - - +</span><br><span class="line">- + + + -</span><br><span class="line">+ - + - +</span><br><span class="line">B + - + -</span><br></pre></td></tr></table></figure>

<blockquote>
<p>输出</p>
</blockquote>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">10</span><br></pre></td></tr></table></figure>

<p><strong>自己的解法与答案</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">参考题解后修改的代码：<span class="number">5</span>/<span class="number">5</span></span><br><span class="line">n=<span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line">arr=[]<span class="comment">#A-&gt;B等效B-&gt;A</span></span><br><span class="line">x=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">  a1=<span class="built_in">input</span>().split()</span><br><span class="line">  <span class="keyword">if</span> <span class="string">&#x27;A&#x27;</span> <span class="keyword">in</span> a1:</span><br><span class="line">    arr.append((i,a1.index(<span class="string">&#x27;A&#x27;</span>)))</span><br><span class="line">  <span class="keyword">if</span> <span class="string">&#x27;B&#x27;</span> <span class="keyword">in</span> a1:</span><br><span class="line">    arr.append((i,a1.index(<span class="string">&#x27;B&#x27;</span>)))</span><br><span class="line">  x.append(a1)</span><br><span class="line">vis = [[<span class="number">0</span>] * n <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">temp=[]</span><br><span class="line">dp=[(-<span class="number">1</span>,<span class="number">0</span>),(<span class="number">1</span>,<span class="number">0</span>),(<span class="number">0</span>,-<span class="number">1</span>),(<span class="number">0</span>,<span class="number">1</span>)]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bfs</span>(<span class="params">i,j,step</span>):</span><br><span class="line">  temp.append((i,j,step))</span><br><span class="line">  vis[i][j]=<span class="number">1</span></span><br><span class="line">  <span class="keyword">while</span> temp:</span><br><span class="line">    now=temp.pop(<span class="number">0</span>)</span><br><span class="line">    step=now[<span class="number">2</span>]</span><br><span class="line">    <span class="keyword">if</span> now[<span class="number">0</span>]==arr[<span class="number">1</span>][<span class="number">0</span>] <span class="keyword">and</span> now[<span class="number">1</span>]==arr[<span class="number">1</span>][<span class="number">1</span>]:</span><br><span class="line">      <span class="keyword">return</span> step</span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">      p1=now[<span class="number">0</span>]+dp[k][<span class="number">0</span>]</span><br><span class="line">      p2=now[<span class="number">1</span>]+dp[k][<span class="number">1</span>]</span><br><span class="line">      <span class="keyword">if</span> p1&lt;n <span class="keyword">and</span> p1&gt;=<span class="number">0</span> <span class="keyword">and</span> p2&lt;n <span class="keyword">and</span> p2&gt;=<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">if</span> vis[p1][p2]==<span class="number">0</span> <span class="keyword">and</span> x[p1][p2]!=x[now[<span class="number">0</span>]][now[<span class="number">1</span>]]:</span><br><span class="line">          temp.append((p1,p2,step+<span class="number">1</span>))</span><br><span class="line">          vis[p1][p2]=<span class="number">1</span></span><br><span class="line">  <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(bfs(arr[<span class="number">0</span>][<span class="number">0</span>],arr[<span class="number">0</span>][<span class="number">1</span>],<span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">第二次做的代码：<span class="number">5</span>/<span class="number">5</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line">n=<span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line">arr=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">  s=<span class="built_in">input</span>().split()<span class="comment">#之前没注意到每个数据中间用空格分开,直接用了input()导致错误！</span></span><br><span class="line">  <span class="keyword">if</span> <span class="string">&#x27;A&#x27;</span> <span class="keyword">in</span> s:A=(i,s.index(<span class="string">&#x27;A&#x27;</span>))</span><br><span class="line">  <span class="comment">#if &#x27;B&#x27; in s:B=(i,s.index(&#x27;B&#x27;))</span></span><br><span class="line">  arr.append(s)</span><br><span class="line"><span class="comment">#print(arr,A)</span></span><br><span class="line">op=[(-<span class="number">1</span>,<span class="number">0</span>),(<span class="number">1</span>,<span class="number">0</span>),(<span class="number">0</span>,-<span class="number">1</span>),(<span class="number">0</span>,<span class="number">1</span>)]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bfs</span>(<span class="params">i,j,step</span>):</span><br><span class="line">  pop_list=deque([(i,j,step)])</span><br><span class="line">  vis=<span class="built_in">set</span>()</span><br><span class="line">  vis.add((i,j))</span><br><span class="line">  <span class="keyword">while</span> pop_list:</span><br><span class="line">    <span class="comment">#print(pop_list)</span></span><br><span class="line">    x,y,step=pop_list.popleft()</span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> op:</span><br><span class="line">      p1=x+k[<span class="number">0</span>]</span><br><span class="line">      p2=y+k[<span class="number">1</span>]</span><br><span class="line">      <span class="keyword">if</span> <span class="number">0</span>&lt;=p1&lt;n <span class="keyword">and</span> <span class="number">0</span>&lt;=p2&lt;n:</span><br><span class="line">        <span class="keyword">if</span> (p1,p2) <span class="keyword">in</span> vis:<span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> arr[p1][p2]==arr[x][y]:<span class="keyword">continue</span><span class="comment">#之前x,y写成i,j</span></span><br><span class="line">        <span class="keyword">if</span> arr[p1][p2]==<span class="string">&#x27;B&#x27;</span>:</span><br><span class="line">          <span class="built_in">print</span>(step+<span class="number">1</span>)</span><br><span class="line">          <span class="keyword">return</span></span><br><span class="line">        <span class="comment">#不能用_tag、tag + -标记，因为从不同方向来会导致tag不同，而bfs只能给一个位置的tag赋一个值。</span></span><br><span class="line">        pop_list.append((p1,p2,step+<span class="number">1</span>))<span class="comment">#之前p1,p2写成x,y</span></span><br><span class="line">        vis.add((p1,p2))<span class="comment">#之前p1,p2写成x,y</span></span><br><span class="line">  <span class="built_in">print</span>(-<span class="number">1</span>)</span><br><span class="line">bfs(A[<span class="number">0</span>],A[<span class="number">1</span>],<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<p><strong>输出判定链接及题解</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/141/learning/?page=2&first_category_id=1&sort=students_count&tags=2015,2016">穿越雷区 - 蓝桥云课 (lanqiao.cn)</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_52596361/article/details/123931266">bfs 蓝桥杯 穿越雷区 python-CSDN博客</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> queue <span class="keyword">import</span> Queue</span><br><span class="line"><span class="comment">#queue.Queue(maxsize=0)先进先出队列</span></span><br><span class="line"><span class="comment">#maxsize 是个整数，用于设置可以放入队列中的项目数的上限。当达到这个大小的时候，插入操作将阻塞至队列中的项目被消费掉。如果 maxsize 小于等于零，队列尺寸为无限大。</span></span><br><span class="line">n = <span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line">la = []</span><br><span class="line"><span class="built_in">dir</span> = [[-<span class="number">1</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, -<span class="number">1</span>], [<span class="number">0</span>, <span class="number">1</span>]]</span><br><span class="line">vis = [[<span class="number">0</span>] * n <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">right</span>(<span class="params">x, y</span>):</span><br><span class="line">    <span class="keyword">if</span> x &gt;= <span class="number">0</span> <span class="keyword">and</span> x &lt; n <span class="keyword">and</span> y &gt;= <span class="number">0</span> <span class="keyword">and</span> y &lt; n:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">    l = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">str</span>, <span class="built_in">input</span>().split()))</span><br><span class="line">    la.append(l)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        <span class="keyword">if</span> la[i][j] == <span class="string">&quot;A&quot;</span>:</span><br><span class="line">            a, b = i, j</span><br><span class="line">        <span class="keyword">if</span> la[i][j] == <span class="string">&quot;B&quot;</span>:</span><br><span class="line">            x1, y1 = i, j</span><br><span class="line"> </span><br><span class="line">step=<span class="number">0</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bfs</span>(<span class="params">x, y</span>):</span><br><span class="line">    <span class="keyword">global</span> step</span><br><span class="line">    q = Queue()</span><br><span class="line">    q.put((x, y, <span class="number">0</span>))</span><br><span class="line">    vis[x][y] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> q.empty() == <span class="literal">False</span>:</span><br><span class="line">        now = q.get()</span><br><span class="line">        step=now[<span class="number">2</span>]</span><br><span class="line">        <span class="keyword">if</span> now[<span class="number">0</span>] == x1 <span class="keyword">and</span> now[<span class="number">1</span>] == y1:</span><br><span class="line">            <span class="keyword">return</span> step</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">            nx = now[<span class="number">0</span>] + <span class="built_in">dir</span>[i][<span class="number">0</span>]</span><br><span class="line">            ny = now[<span class="number">1</span>] + <span class="built_in">dir</span>[i][<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> right(nx, ny) <span class="keyword">and</span> vis[nx][ny] == <span class="number">0</span>  <span class="keyword">and</span> la[now[<span class="number">0</span>]][now[<span class="number">1</span>]] != la[nx][ny]:</span><br><span class="line">                q.put((nx, ny, step + <span class="number">1</span>))</span><br><span class="line">                vis[nx][ny] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(bfs(a,b))</span><br></pre></td></tr></table></figure>

<h1 id="2、BFS-全球变暖"><a href="#2、BFS-全球变暖" class="headerlink" title="2、BFS-全球变暖"></a>2、BFS-全球变暖</h1><p><strong>问题描述</strong></p>
<p>你有一张某海域NxN 像素的照片，”.”表示海洋、”#”表示陆地，如下所示：</p>
<p>…….</p>
<p>.##….</p>
<p>.##….</p>
<p>….##.</p>
<p>..####.</p>
<p>…###.</p>
<p>…….</p>
<p>其中”上下左右”四个方向上连在一起的一片陆地组成一座岛屿。例如上图就有 2 座岛屿。</p>
<p>由于全球变暖导致了海面上升，科学家预测未来几十年，岛屿边缘一个像素的范围会被海水淹没。具体来说如果一块陆地像素与海洋相邻(上下左右四个相邻像素中有海洋)，它就会被淹没。</p>
<p>例如上图中的海域未来会变成如下样子：</p>
<p>…….</p>
<p>…….</p>
<p>…….</p>
<p>…….</p>
<p>….#..</p>
<p>…….</p>
<p>…….</p>
<p>请你计算：依照科学家的预测，照片中有多少岛屿会被完全淹没。</p>
<p><strong>输入描述</strong></p>
<p>第一行包含一个整数 N (1≤N≤1000)。</p>
<p>以下 N 行 N 列代表一张海域照片。</p>
<p>照片保证第 1 行、第 1 列、第 N 行、第 N 列的像素都是海洋。</p>
<p>输出一个整数表示答案。</p>
<p><strong>输入输出样例</strong></p>
<p>示例</p>
<blockquote>
<p>输入</p>
</blockquote>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">7</span><br><span class="line">.......</span><br><span class="line">.##....</span><br><span class="line">.##....</span><br><span class="line">....##.</span><br><span class="line">..####.</span><br><span class="line">...###.</span><br><span class="line">.......</span><br></pre></td></tr></table></figure>

<blockquote>
<p>输出</p>
</blockquote>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1</span><br></pre></td></tr></table></figure>

<p><strong>自己的解法与答案</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#编程题答案</span></span><br><span class="line">空      </span><br></pre></td></tr></table></figure>

<p><strong>输出判定链接及题解</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/178/learning/">全球变暖 - 蓝桥云课 (lanqiao.cn)</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 请在此输入您的代码</span></span><br><span class="line"><span class="comment">#用 DFS 或 BFS 搜出有多少个岛（连通块），检查这个岛有没有高地，统计那些没有高地</span></span><br><span class="line"><span class="comment">#的岛（连通块）的数量，就是答案。</span></span><br><span class="line">n=<span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line">a=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">    a.append(<span class="built_in">input</span>())</span><br><span class="line">vis=[[<span class="number">0</span>]*n <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)] <span class="comment">#记录是否访问过的数组</span></span><br><span class="line"><span class="built_in">dir</span>=[(<span class="number">0</span>,<span class="number">1</span>),(<span class="number">0</span>,-<span class="number">1</span>),(<span class="number">1</span>,<span class="number">0</span>),(-<span class="number">1</span>,<span class="number">0</span>)] <span class="comment">#记录左右下上四个方向</span></span><br><span class="line">flag=<span class="literal">True</span></span><br><span class="line">q=[] <span class="comment">#用列表来实现队列</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bfs</span>(<span class="params">x,y</span>):</span><br><span class="line">    <span class="keyword">global</span> flag</span><br><span class="line">    q.append((x,y))</span><br><span class="line">    vis[x][y]=<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">len</span>(q):</span><br><span class="line">        item=q.pop(<span class="number">0</span>) <span class="comment">#将队列中第一个元素出队</span></span><br><span class="line">        tx=item[<span class="number">0</span>]</span><br><span class="line">        ty=item[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">if</span> a[tx][ty+<span class="number">1</span>]==<span class="string">&#x27;#&#x27;</span> <span class="keyword">and</span> a[tx][ty-<span class="number">1</span>]==<span class="string">&#x27;#&#x27;</span> <span class="keyword">and</span> a[tx+<span class="number">1</span>][ty]==<span class="string">&#x27;#&#x27;</span> <span class="keyword">and</span> a[tx-<span class="number">1</span>][ty]==<span class="string">&#x27;#&#x27;</span>:</span><br><span class="line">            flag=<span class="literal">False</span> <span class="comment">#这是一个高地，不会被淹没</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">            nx=tx+<span class="built_in">dir</span>[i][<span class="number">0</span>]</span><br><span class="line">            ny=ty+<span class="built_in">dir</span>[i][<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> vis[nx][ny]==<span class="number">0</span> <span class="keyword">and</span> a[nx][ny]==<span class="string">&#x27;#&#x27;</span>:</span><br><span class="line">                vis[nx][ny]=<span class="number">1</span></span><br><span class="line">                q.append((nx,ny))</span><br><span class="line">ans=<span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        <span class="keyword">if</span> a[i][j]==<span class="string">&#x27;#&#x27;</span> <span class="keyword">and</span> vis[i][j]==<span class="number">0</span>:</span><br><span class="line">            flag=<span class="literal">True</span> <span class="comment">#假设这个岛被淹</span></span><br><span class="line">            bfs(i,j)  <span class="comment">#找这个岛中有没有高地，如果有flag为True</span></span><br><span class="line">            <span class="keyword">if</span> flag:ans+=<span class="number">1</span> <span class="comment">#会被淹没的岛数量加1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(ans)</span><br><span class="line">通过率：<span class="number">8</span>/<span class="number">8</span></span><br></pre></td></tr></table></figure>

<h1 id="3、BFS-卡片换位"><a href="#3、BFS-卡片换位" class="headerlink" title="3、BFS-卡片换位"></a>3、BFS-卡片换位</h1><p><strong>问题描述</strong></p>
<p>你玩过华容道的游戏吗？</p>
<p>这是个类似的，但更简单的游戏。</p>
<p>看下面 3 x 2 的格子</p>
<p>+—+—+—+</p>
<p>| A | * | * |</p>
<p>+—+—+—+</p>
<p>| B | | * |</p>
<p>+—+—+—+</p>
<p>在其中放 5 张牌，其中 A 代表关羽，B 代表张飞，* 代表士兵。</p>
<p>还有个格子是空着的。</p>
<p>你可以把一张牌移动到相邻的空格中去(对角不算相邻)。</p>
<p>游戏的目标是：关羽和张飞交换位置，其它的牌随便在哪里都可以。</p>
<p><strong>输入描述</strong></p>
<p>输入两行 6 个字符表示当前的局面</p>
<p><strong>输出描述</strong></p>
<p>一个整数，表示最少多少步，才能把 A B 换位（其它牌位置随意）</p>
<p>输入输出样例</p>
<p>示例</p>
<blockquote>
<p>输入</p>
</blockquote>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* A</span><br><span class="line">**B</span><br></pre></td></tr></table></figure>

<blockquote>
<p>输出</p>
</blockquote>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">17</span><br></pre></td></tr></table></figure>

<p><strong>自己的解法与答案</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#编程题答案</span></span><br><span class="line">空</span><br></pre></td></tr></table></figure>

<p><strong>输出判定链接及题解</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/125/learning/?page=1&first_category_id=1&sort=students_count&second_category_id=3&name=%E5%8D%A1%E7%89%87%E6%8D%A2%E4%BD%8D">卡片换位 - 蓝桥云课 (lanqiao.cn)</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qwexzvby/article/details/123900107">蓝桥杯：卡片换位【BFS】【Python实现】-CSDN博客</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">CSDN解法</span><br><span class="line">这道题很像经典的BFS九宫格移动问题，可以用一维数组转换能二维数组的下标来移动解决</span><br><span class="line">一维变二维下标 ：x = index // 数组宽度， y = index % 数组宽度</span><br><span class="line">二维变一维下标 ：x * 数组宽度 + y</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> collections</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bfs</span>(<span class="params">s,A_index,B_index</span>):</span><br><span class="line">    q = collections.deque()</span><br><span class="line">    dic = &#123;&#125;                                    <span class="comment">#使用字典记录每走一步的次数</span></span><br><span class="line">    dic[s] = <span class="number">0</span></span><br><span class="line">    dist = [(<span class="number">0</span>,<span class="number">1</span>),(<span class="number">0</span>,-<span class="number">1</span>),(<span class="number">1</span>,<span class="number">0</span>),(-<span class="number">1</span>,<span class="number">0</span>)]</span><br><span class="line">    q.append(s)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> q:</span><br><span class="line">        now = <span class="built_in">list</span>(q.popleft())                 <span class="comment">#把字符串转换成逐个添加进列表方便后面操作</span></span><br><span class="line">        <span class="keyword">if</span> now.index(<span class="string">&quot;A&quot;</span>) == B_index <span class="keyword">and</span> now.index(<span class="string">&quot;B&quot;</span>) == A_index:</span><br><span class="line">            <span class="keyword">return</span> dic[<span class="string">&quot;&quot;</span>.join(now)]            <span class="comment">#如果A与B已经交换位置了，直接返回次数</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            space = now.index(<span class="string">&quot; &quot;</span>)</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">10</span>                           <span class="comment">#测试样例有个没有空格，题目要求是每组都有移动用的空格的，可能是样例出错了</span></span><br><span class="line">        x,y = space // <span class="number">3</span>, space % <span class="number">3</span>             <span class="comment">#将一维数组转换成二维数组的索引，并不是实际创建二维数组</span></span><br><span class="line">        distance = dic[<span class="string">&quot;&quot;</span>.join(now)]            <span class="comment">#记录当前步数</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> dist:</span><br><span class="line">            tx,ty = i</span><br><span class="line">            nx,ny = x + tx, y + ty</span><br><span class="line">            <span class="keyword">if</span> nx <span class="keyword">in</span> [<span class="number">0</span>,<span class="number">1</span>] <span class="keyword">and</span> ny <span class="keyword">in</span> [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>]:   <span class="comment">#如果没有越界</span></span><br><span class="line">                keynow = now.copy()</span><br><span class="line">                keynow[space],keynow[nx*<span class="number">3</span> + ny] = keynow[nx*<span class="number">3</span> + ny],keynow[space]  <span class="comment">#将二维数组的下标转换成一维数组的下标，互换空格与交换点的位置</span></span><br><span class="line">                <span class="keyword">if</span> <span class="string">&quot;&quot;</span>.join(keynow) <span class="keyword">not</span> <span class="keyword">in</span> dic.keys():     <span class="comment">#如果交换的这个串第一次出现就创建</span></span><br><span class="line">                    dic.setdefault(<span class="string">&quot;&quot;</span>.join(keynow),distance + <span class="number">1</span>)</span><br><span class="line">                    q.append(keynow)</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line"> </span><br><span class="line">s1,s2 = <span class="built_in">input</span>(),<span class="built_in">input</span>()</span><br><span class="line">s = s1+s2</span><br><span class="line">A_index = s.index(<span class="string">&quot;A&quot;</span>)                          <span class="comment">#A的索引</span></span><br><span class="line">B_index = s.index(<span class="string">&quot;B&quot;</span>)                          <span class="comment">#B的索引</span></span><br><span class="line"><span class="built_in">print</span>(bfs(s,A_index,B_index))</span><br><span class="line">通过率：<span class="number">6</span>/<span class="number">6</span></span><br></pre></td></tr></table></figure>

<h1 id="4、BFS-九宫重排"><a href="#4、BFS-九宫重排" class="headerlink" title="4、BFS-九宫重排"></a>4、BFS-九宫重排</h1><p><strong>问题描述</strong></p>
<p>略</p>
<p>类似于把&lt;卡片换位&gt;与&lt;DFS-移动字母&gt;融合。</p>
<p><strong>自己的解法与答案</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">start_str=<span class="built_in">input</span>()</span><br><span class="line">start_list=<span class="built_in">list</span>(start_str)</span><br><span class="line">end_str=<span class="built_in">input</span>()</span><br><span class="line">end_list=<span class="built_in">list</span>(end_str)</span><br><span class="line"><span class="comment">#print(start_list,end_list)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>):</span><br><span class="line">  <span class="keyword">if</span> start_list[x]==<span class="string">&#x27;.&#x27;</span>:</span><br><span class="line">    i=x//<span class="number">3</span></span><br><span class="line">    j=x%<span class="number">3</span></span><br><span class="line">    start_pos=(i,j)</span><br><span class="line"><span class="comment">#print(start_pos)</span></span><br><span class="line">op=[(-<span class="number">1</span>,<span class="number">0</span>),(<span class="number">1</span>,<span class="number">0</span>),(<span class="number">0</span>,-<span class="number">1</span>),(<span class="number">0</span>,<span class="number">1</span>)]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bfs</span>(<span class="params">i,j,step</span>):</span><br><span class="line">  now_list=start_list</span><br><span class="line">  poplist=[(i,j,step,now_list)]</span><br><span class="line">  vis=[start_str]</span><br><span class="line">  <span class="keyword">while</span> poplist:</span><br><span class="line">    (x,y,now_step,now_list)=poplist.pop(<span class="number">0</span>)<span class="comment">#!!</span></span><br><span class="line">    <span class="comment">#print(now_list,&#x27;#3&#x27;)</span></span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> op:</span><br><span class="line">      p1=x+k[<span class="number">0</span>]</span><br><span class="line">      p2=y+k[<span class="number">1</span>]</span><br><span class="line">      <span class="keyword">if</span> <span class="number">0</span>&lt;=p1&lt;<span class="number">3</span> <span class="keyword">and</span> <span class="number">0</span>&lt;=p2&lt;<span class="number">3</span>:</span><br><span class="line">        now_list[<span class="number">3</span>*x+y],now_list[<span class="number">3</span>*p1+p2]=now_list[<span class="number">3</span>*p1+p2],now_list[<span class="number">3</span>*x+y]</span><br><span class="line">        now_str=<span class="string">&#x27;&#x27;</span>.join(now_list)</span><br><span class="line">        <span class="comment">#print(now_str,&#x27;#1&#x27;)</span></span><br><span class="line">        <span class="keyword">if</span> now_str==end_str:</span><br><span class="line">          <span class="keyword">return</span> now_step+<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> now_str <span class="keyword">not</span> <span class="keyword">in</span> vis:</span><br><span class="line">          vis.append(now_str)</span><br><span class="line">          temp_list=now_list[::]<span class="comment">#也可以用temp_list=now_list.copy()</span></span><br><span class="line">          poplist.append((p1,p2,now_step+<span class="number">1</span>,temp_list)) </span><br><span class="line">        now_list[<span class="number">3</span>*x+y],now_list[<span class="number">3</span>*p1+p2]=now_list[<span class="number">3</span>*p1+p2],now_list[<span class="number">3</span>*x+y]</span><br><span class="line">        <span class="comment">#print(now_list,&#x27;#2&#x27;)</span></span><br><span class="line">  <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">res=bfs(start_pos[<span class="number">0</span>],start_pos[<span class="number">1</span>],<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line">通过率：<span class="number">2</span>/<span class="number">5</span> 3over</span><br></pre></td></tr></table></figure>

<p><strong>输出判定链接及题解</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/261/learning/?page=1&first_category_id=1&sort=students_count&second_category_id=3&name=%E4%B9%9D">九宫重排 - 蓝桥云课 (lanqiao.cn)</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qwexzvby/article/details/123903801"> 蓝桥杯：九宫格重排【BFS】_-CSDN博客</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">List</span></span><br><span class="line">direct = [<span class="number">3</span>, -<span class="number">3</span>, -<span class="number">1</span>, <span class="number">1</span>]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">check</span>(<span class="params">now,target</span>):</span><br><span class="line">    <span class="comment"># 边界判断，把 0～8 看作 3*3 ，则不能从边界跨越下一个边界</span></span><br><span class="line">    <span class="keyword">if</span>((now==<span class="number">2</span> <span class="keyword">and</span> target==<span class="number">3</span>) <span class="keyword">or</span> (now==<span class="number">3</span> <span class="keyword">and</span> target==<span class="number">2</span>)): <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">if</span>((now==<span class="number">5</span> <span class="keyword">and</span> target==<span class="number">6</span>) <span class="keyword">or</span> (now==<span class="number">6</span> <span class="keyword">and</span> target==<span class="number">5</span>)): <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">if</span>(target&lt;<span class="number">0</span> <span class="keyword">or</span> target&gt;<span class="number">8</span>): <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">operate</span>(<span class="params">now,target,status: <span class="type">List</span>[<span class="built_in">str</span>]</span>):</span><br><span class="line">    <span class="comment"># 复制之后交换元素</span></span><br><span class="line">    this = status.copy()</span><br><span class="line">    this[now],this[target] = this[target],this[now] </span><br><span class="line">    <span class="keyword">return</span> this</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bfs</span>(<span class="params">start</span>):</span><br><span class="line">    q = deque()</span><br><span class="line">    q.append([start, <span class="number">0</span>, origin])</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">len</span>(q) != <span class="number">0</span>):</span><br><span class="line">        now, step, status = q.popleft()</span><br><span class="line">        <span class="keyword">if</span>(status == end):  <span class="keyword">return</span> step</span><br><span class="line">        <span class="keyword">for</span> d <span class="keyword">in</span> direct:</span><br><span class="line">            target = now + d</span><br><span class="line">            <span class="keyword">if</span>(check(now,target)):</span><br><span class="line">                new_status = operate(now,target,status)</span><br><span class="line">                status_hash = <span class="string">&#x27;&#x27;</span>.join(new_status)</span><br><span class="line">                <span class="keyword">if</span>(status_hash <span class="keyword">in</span> inq): <span class="keyword">continue</span> <span class="comment"># 不重复之前的状态</span></span><br><span class="line">                inq[status_hash] = <span class="literal">True</span></span><br><span class="line">                q.append([target,step+<span class="number">1</span>,new_status])</span><br><span class="line">origin = <span class="built_in">list</span>(<span class="built_in">input</span>())</span><br><span class="line">end = <span class="built_in">list</span>(<span class="built_in">input</span>())</span><br><span class="line">inq  = &#123;&#125;</span><br><span class="line">start = origin.index(<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">step = bfs(start)</span><br><span class="line"><span class="built_in">print</span>(step)</span><br><span class="line">通过率：<span class="number">5</span>/<span class="number">5</span></span><br><span class="line"></span><br><span class="line">解法二：</span><br><span class="line"><span class="keyword">import</span> collections</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bfs</span>():</span><br><span class="line">    q = collections.deque()</span><br><span class="line">    dist = &#123;&#125;                                           <span class="comment">#使用字典存储步数</span></span><br><span class="line">    dist[s1] = <span class="number">0</span></span><br><span class="line">    dire = [(<span class="number">1</span>,<span class="number">0</span>),(-<span class="number">1</span>,<span class="number">0</span>),(<span class="number">0</span>,<span class="number">1</span>),(<span class="number">0</span>,-<span class="number">1</span>)]</span><br><span class="line">    q.append(s1)</span><br><span class="line">    <span class="keyword">while</span> q:</span><br><span class="line">        now = <span class="built_in">list</span>(q.popleft())                         <span class="comment">#将pop出来的字符串逐个加入列表，方便操作</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;&quot;</span>.join(now) == s2:</span><br><span class="line">            <span class="keyword">return</span> dist[<span class="string">&quot;&quot;</span>.join(now)]                   <span class="comment">#如果达到要求，返回次数</span></span><br><span class="line">        point = now.index(<span class="string">&quot;.&quot;</span>)                          <span class="comment">#找到移动“.”的索引</span></span><br><span class="line">        x = point // <span class="number">3</span>                                  <span class="comment">#一维转二维下标，可以自己举个例子试一下</span></span><br><span class="line">        y = point % <span class="number">3</span></span><br><span class="line">        distance = dist[<span class="string">&quot;&quot;</span>.join(now)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> dire:</span><br><span class="line">            tx,ty = i</span><br><span class="line">            nx,ny = x + tx, y + ty</span><br><span class="line">            <span class="keyword">if</span> nx <span class="keyword">in</span> [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>] <span class="keyword">and</span> ny <span class="keyword">in</span> [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>]:         <span class="comment">#如果没有过界</span></span><br><span class="line">                new_now = now.copy()</span><br><span class="line">                new_now[point],new_now[nx*<span class="number">3</span> + ny] = new_now[nx*<span class="number">3</span> + ny],new_now[point]       <span class="comment">#二维转一维</span></span><br><span class="line">                <span class="keyword">if</span> <span class="string">&quot;&quot;</span>.join(new_now) <span class="keyword">not</span> <span class="keyword">in</span> dist.keys():                                     <span class="comment">#如果没有出现过在字典中，就创建并且步数加1</span></span><br><span class="line">                    dist.setdefault(<span class="string">&quot;&quot;</span>.join(new_now),distance+<span class="number">1</span>)<span class="comment">#</span></span><br><span class="line">                    q.append(<span class="string">&quot;&quot;</span>.join(new_now))</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">s1 = <span class="built_in">input</span>()</span><br><span class="line">s2 = <span class="built_in">input</span>()</span><br><span class="line"><span class="built_in">print</span>(bfs())</span><br></pre></td></tr></table></figure>

<p><strong>备注</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/python/att-dictionary-setdefault.html">Python 字典(Dictionary) setdefault()方法 | 菜鸟教程 (runoob.com)</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">setdefault 和 get 还是有不同的:</span><br><span class="line"></span><br><span class="line">setdefault 如果不存在会在原字典里添加一个 key:default_value 并返回 default_value。</span><br><span class="line">get 找不到 key 的时候不会修改原字典，只返回 default_value。</span><br><span class="line"></span><br><span class="line">若要修改字典 dic.setdefault(key,default_value) 等同于 dic[key] = dic.get(key,default_value)。</span><br></pre></td></tr></table></figure>

<h1 id="5、BFS-长草"><a href="#5、BFS-长草" class="headerlink" title="5、BFS-长草"></a>5、BFS-长草</h1><p><strong>问题描述</strong></p>
<p>略</p>
<p><strong>自己的解法与答案</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">n,m=<span class="built_in">map</span>(<span class="built_in">int</span>,<span class="built_in">input</span>().split())</span><br><span class="line">slist=[]</span><br><span class="line">grass_start=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">  s=<span class="built_in">input</span>()</span><br><span class="line">  <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">    <span class="keyword">if</span> s[j]==<span class="string">&#x27;g&#x27;</span>:</span><br><span class="line">      grass_start.append((i,j))</span><br><span class="line">  slist.append(s)</span><br><span class="line">k=<span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line">s2slist=[[<span class="string">&#x27;.&#x27;</span>]*m <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line"><span class="comment">#print(s2slist)</span></span><br><span class="line"><span class="comment">#曼哈顿距离</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">  <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">    <span class="keyword">for</span> (kx,ky) <span class="keyword">in</span> grass_start:</span><br><span class="line">      <span class="keyword">if</span> <span class="built_in">abs</span>(kx-i)+<span class="built_in">abs</span>(ky-j)&lt;=k:</span><br><span class="line">        s2slist[i][j]=<span class="string">&#x27;g&#x27;</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"><span class="keyword">for</span> res <span class="keyword">in</span> s2slist:</span><br><span class="line">    res=<span class="string">&#x27;&#x27;</span>.join(res)</span><br><span class="line">    <span class="built_in">print</span>(res)</span><br><span class="line">通过率：<span class="number">4</span>/<span class="number">5</span> 1over</span><br><span class="line"></span><br><span class="line">第二次做的代码：<span class="number">1</span>/<span class="number">5</span> 4error 目前没发现问题</span><br><span class="line"><span class="comment">#类似BFS-扩散</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line">n,m=<span class="built_in">map</span>(<span class="built_in">int</span>,<span class="built_in">input</span>().split())</span><br><span class="line">arr=[]</span><br><span class="line">grass=[]</span><br><span class="line"><span class="comment">#gv=[]</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">  a=<span class="built_in">list</span>(<span class="built_in">input</span>())</span><br><span class="line">  <span class="keyword">if</span> <span class="string">&#x27;g&#x27;</span> <span class="keyword">in</span> a:</span><br><span class="line">    grass.append((i,a.index(<span class="string">&#x27;g&#x27;</span>),<span class="number">0</span>))</span><br><span class="line">    <span class="comment">#gv.append((i,a.index(&#x27;g&#x27;)))</span></span><br><span class="line">  arr.append(a)</span><br><span class="line">k=<span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line">op=[(-<span class="number">1</span>,<span class="number">0</span>),(<span class="number">1</span>,<span class="number">0</span>),(<span class="number">0</span>,-<span class="number">1</span>),(<span class="number">0</span>,<span class="number">1</span>)]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bfs</span>():</span><br><span class="line">  pop_list=deque(grass)</span><br><span class="line">    <span class="comment">#vis=set(gv)</span></span><br><span class="line">  <span class="keyword">while</span> pop_list:</span><br><span class="line">    i,j,step=pop_list.popleft()</span><br><span class="line">    <span class="keyword">if</span> step==k:</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">for</span> tur <span class="keyword">in</span> op:</span><br><span class="line">      p1=i+tur[<span class="number">0</span>]</span><br><span class="line">      p2=j+tur[<span class="number">1</span>]</span><br><span class="line">      <span class="keyword">if</span> <span class="number">0</span>&lt;=p1&lt;n <span class="keyword">and</span> <span class="number">0</span>&lt;=p2&lt;m:</span><br><span class="line">        <span class="keyword">if</span> arr[p1][p2]==<span class="string">&#x27;.&#x27;</span>:</span><br><span class="line">          pop_list.append((p1,p2,step+<span class="number">1</span>))</span><br><span class="line">            <span class="comment">#vis.add((p1,p2))</span></span><br><span class="line">          arr[p1][p2]=<span class="string">&#x27;g&#x27;</span></span><br><span class="line">bfs()</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> arr:<span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>.join(x))</span><br></pre></td></tr></table></figure>

<p><strong>输出判定链接及题解</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/149/learning/?page=1&first_category_id=1&sort=students_count&second_category_id=3&tags=BFS">长草 - 蓝桥云课 (lanqiao.cn)</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/dearzhuiyi/article/details/123884575">蓝桥杯 python 长草 BFS_-CSDN博客</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">解法一：</span><br><span class="line"><span class="comment"># 输入行n和列m</span></span><br><span class="line">n,m = <span class="built_in">map</span>(<span class="built_in">int</span>,<span class="built_in">input</span>().split())</span><br><span class="line"><span class="comment"># 创建一个一维数组，用于存储初始化后的草坪中的草的坐标</span></span><br><span class="line">lawn = []</span><br><span class="line"><span class="comment"># 创建一个队列，用于存储未访问过的草的坐标</span></span><br><span class="line">queue = []</span><br><span class="line"><span class="comment"># 循环输入每行</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">    lawn.append(<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">str</span>,<span class="built_in">input</span>())))</span><br><span class="line">    <span class="comment"># 存储每行草的坐标</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(lawn[i])):</span><br><span class="line">        <span class="keyword">if</span> lawn[i][j] == <span class="string">&#x27;g&#x27;</span>:</span><br><span class="line">            queue.append([i,j])         </span><br><span class="line"><span class="comment"># 输入多少个月</span></span><br><span class="line">k = <span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line"><span class="keyword">if</span> k == <span class="number">0</span>:</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> lawn:</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>.join(row))</span><br><span class="line"><span class="comment"># 循环每个月草生长情况</span></span><br><span class="line"><span class="keyword">for</span> month <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">    lens = <span class="built_in">len</span>(queue)</span><br><span class="line">    <span class="keyword">for</span> q <span class="keyword">in</span> <span class="built_in">range</span>(lens):</span><br><span class="line">        <span class="comment"># 取队列队首</span></span><br><span class="line">        temp = queue.pop(<span class="number">0</span>)</span><br><span class="line">        <span class="comment"># 草左边的格子</span></span><br><span class="line">        x = temp[<span class="number">0</span>]</span><br><span class="line">        y = temp[<span class="number">1</span>]-<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> <span class="number">0</span> &lt;= y &lt; m <span class="keyword">and</span> lawn[x][y] != <span class="string">&#x27;g&#x27;</span>:</span><br><span class="line">            queue.append([x,y])</span><br><span class="line">            lawn[x][y] = <span class="string">&#x27;g&#x27;</span></span><br><span class="line">        <span class="comment"># 草右边的格子</span></span><br><span class="line">        y = temp[<span class="number">1</span>]+<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> <span class="number">0</span> &lt;= y &lt; m <span class="keyword">and</span> lawn[x][y] != <span class="string">&#x27;g&#x27;</span>:</span><br><span class="line">            queue.append([x,y])</span><br><span class="line">            lawn[x][y] = <span class="string">&#x27;g&#x27;</span></span><br><span class="line">        <span class="comment"># 草下方的格子</span></span><br><span class="line">        x = temp[<span class="number">0</span>]+<span class="number">1</span></span><br><span class="line">        y = temp[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">if</span> <span class="number">0</span> &lt;= x &lt; n <span class="keyword">and</span> lawn[x][y] != <span class="string">&#x27;g&#x27;</span>:</span><br><span class="line">            queue.append([x,y])</span><br><span class="line">            lawn[x][y] = <span class="string">&#x27;g&#x27;</span></span><br><span class="line">        <span class="comment"># 草上方的格子</span></span><br><span class="line">        x = temp[<span class="number">0</span>]-<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> <span class="number">0</span> &lt;= x &lt; n <span class="keyword">and</span> lawn[x][y] != <span class="string">&#x27;g&#x27;</span>:</span><br><span class="line">            queue.append([x,y])</span><br><span class="line">            lawn[x][y] = <span class="string">&#x27;g&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">        <span class="built_in">print</span>(lawn[i][j],end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>()</span><br><span class="line"></span><br><span class="line">解法二：</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line">n, m= <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split()) <span class="comment"># n 行 m 列</span></span><br><span class="line">mat = [] <span class="comment"># 数据</span></span><br><span class="line">q = deque() <span class="comment"># 队列</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n): <span class="comment"># 逐行输入</span></span><br><span class="line">    mat.append(<span class="built_in">list</span>(<span class="built_in">input</span>()))</span><br><span class="line">k = <span class="built_in">int</span>(<span class="built_in">input</span>()) <span class="comment"># 月</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">        <span class="keyword">if</span> mat[i][j] == <span class="string">&#x27;g&#x27;</span>:</span><br><span class="line">            q.append((i,j))</span><br><span class="line">direction = [(<span class="number">0</span>,<span class="number">1</span>),(<span class="number">0</span>,-<span class="number">1</span>),(<span class="number">1</span>,<span class="number">0</span>),(-<span class="number">1</span>,<span class="number">0</span>)] <span class="comment"># 存储四个方向</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bfs</span>():</span><br><span class="line">    t = <span class="built_in">len</span>(q)</span><br><span class="line">    <span class="keyword">while</span> t &gt; <span class="number">0</span>:</span><br><span class="line">        temp = q.popleft()</span><br><span class="line">        <span class="comment"># print(q) </span></span><br><span class="line">        x1, y1 = temp[<span class="number">0</span>],temp[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">for</span> d <span class="keyword">in</span> direction: <span class="comment"># 四个方向</span></span><br><span class="line">            nx = x1 + d[<span class="number">0</span>] <span class="comment"># next_x 下一个方向</span></span><br><span class="line">            ny = y1 + d[<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> nx &gt;= <span class="number">0</span> <span class="keyword">and</span> nx &lt; n <span class="keyword">and</span> ny &gt;= <span class="number">0</span> <span class="keyword">and</span> ny &lt; m <span class="keyword">and</span> mat[nx][ny] == <span class="string">&#x27;.&#x27;</span>:</span><br><span class="line">                mat[nx][ny] = <span class="string">&#x27;g&#x27;</span></span><br><span class="line">                q.append((nx,ny)) <span class="comment"># 入队</span></span><br><span class="line">        t -= <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">    bfs()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>.join(mat[i]))</span><br></pre></td></tr></table></figure>

<h1 id="6、BFS-走迷宫"><a href="#6、BFS-走迷宫" class="headerlink" title="6、BFS-走迷宫"></a>6、BFS-走迷宫</h1><p><strong>问题描述</strong></p>
<p>给定一个 N×M 的网格迷宫 G。G 的每个格子要么是道路，要么是障碍物（道路用 1 表示，障碍物用 0 表示）。</p>
<p>已知迷宫的入口位置为 (x1,y1)，出口位置为(x2,y2)。问从入口走到出口，最少要走多少个格子。</p>
<p>输入描述</p>
<p>输入第 1 行包含两个正整数N,M，分别表示迷宫的大小。</p>
<p>接下来输入一个N×M 的矩阵。若 G(i,j)&#x3D;1 表示其为道路，否则表示其为障碍物。</p>
<p>最后一行输入四个整数x1,y1,x2,y2，表示入口的位置和出口的位置。</p>
<p>1≤N,M≤10^2，0≤G(i,j)≤1，1≤x1,x2≤N，1≤y1,y2≤M。</p>
<p>输出描述</p>
<p>输出仅一行，包含一个整数表示答案。</p>
<p>若无法从入口到出口，则输出 −1。</p>
<p>输入输出样例</p>
<p>示例 1</p>
<blockquote>
<p>输入</p>
</blockquote>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">5 5 </span><br><span class="line">1 0 1 1 0</span><br><span class="line">1 1 0 1 1 </span><br><span class="line">0 1 0 1 1</span><br><span class="line">1 1 1 1 1</span><br><span class="line">1 0 0 0 1</span><br><span class="line">1 1 5 5 </span><br></pre></td></tr></table></figure>

<blockquote>
<p>输出</p>
</blockquote>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">8</span><br></pre></td></tr></table></figure>

<p><strong>自己的解法与答案</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">第一次：<span class="number">7</span>/<span class="number">7</span></span><br><span class="line">n,m=<span class="built_in">map</span>(<span class="built_in">int</span>,<span class="built_in">input</span>().split())</span><br><span class="line">g=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">  g.append(<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>,<span class="built_in">input</span>().split())))</span><br><span class="line">startx,starty,endx,endy=<span class="built_in">map</span>(<span class="built_in">int</span>,<span class="built_in">input</span>().split())</span><br><span class="line">op=[(-<span class="number">1</span>,<span class="number">0</span>),(<span class="number">1</span>,<span class="number">0</span>),(<span class="number">0</span>,-<span class="number">1</span>),(<span class="number">0</span>,<span class="number">1</span>)]</span><br><span class="line">temp=[]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bfs</span>(<span class="params">i,j,step</span>):</span><br><span class="line">  temp.append((i,j,step))</span><br><span class="line">  g[i][j]=<span class="string">&#x27;#&#x27;</span></span><br><span class="line">  <span class="keyword">while</span> temp:</span><br><span class="line">    (x,y,step)=temp.pop(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">if</span> (x,y)==(endx-<span class="number">1</span>,endy-<span class="number">1</span>):</span><br><span class="line">      res=step </span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">      p1=x+op[k][<span class="number">0</span>]</span><br><span class="line">      p2=y+op[k][<span class="number">1</span>]</span><br><span class="line">      <span class="keyword">if</span> p1&gt;=<span class="number">0</span> <span class="keyword">and</span> p1&lt;n <span class="keyword">and</span> p2&gt;=<span class="number">0</span> <span class="keyword">and</span> p2&lt;m:</span><br><span class="line">        <span class="keyword">if</span> g[p1][p2]==<span class="number">1</span>:</span><br><span class="line">          temp.append((p1,p2,step+<span class="number">1</span>))</span><br><span class="line">          g[p1][p2]=<span class="string">&#x27;#&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> temp==[]:</span><br><span class="line">      res=-<span class="number">1</span></span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">res=bfs(startx-<span class="number">1</span>,starty-<span class="number">1</span>,<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line"></span><br><span class="line">第二次做的代码：<span class="number">7</span>/<span class="number">7</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line">n,m=<span class="built_in">map</span>(<span class="built_in">int</span>,<span class="built_in">input</span>().split())</span><br><span class="line">arr=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">  arr.append(<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>,<span class="built_in">input</span>().split())))</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cut</span>(<span class="params">x</span>):</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">int</span>(x)-<span class="number">1</span></span><br><span class="line">stx,sty,edx,edy=<span class="built_in">map</span>(cut,<span class="built_in">input</span>().split())</span><br><span class="line">op=[(-<span class="number">1</span>,<span class="number">0</span>),(<span class="number">1</span>,<span class="number">0</span>),(<span class="number">0</span>,-<span class="number">1</span>),(<span class="number">0</span>,<span class="number">1</span>)]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bfs</span>(<span class="params">i,j,step</span>):</span><br><span class="line">  pop_list=deque([(i,j,step)])</span><br><span class="line">  vis=<span class="built_in">set</span>()</span><br><span class="line">  vis.add((i,j))</span><br><span class="line">  <span class="keyword">while</span> pop_list:</span><br><span class="line">    x,y,step=pop_list.popleft()</span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> op:</span><br><span class="line">      p1=x+k[<span class="number">0</span>]</span><br><span class="line">      p2=y+k[<span class="number">1</span>]</span><br><span class="line">      <span class="keyword">if</span> <span class="number">0</span>&lt;=p1&lt;n <span class="keyword">and</span> <span class="number">0</span>&lt;=p2&lt;m:</span><br><span class="line">        <span class="keyword">if</span> arr[p1][p2]==<span class="number">0</span>:<span class="keyword">continue</span><span class="comment">#之前遗漏这段判断</span></span><br><span class="line">        <span class="keyword">if</span> (p1,p2) <span class="keyword">not</span> <span class="keyword">in</span> vis:</span><br><span class="line">          <span class="keyword">if</span> (p1,p2)==(edx,edy):</span><br><span class="line">            <span class="built_in">print</span>(step+<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">          pop_list.append((p1,p2,step+<span class="number">1</span>))</span><br><span class="line">          vis.add((p1,p2))</span><br><span class="line">  <span class="built_in">print</span>(-<span class="number">1</span>)<span class="comment">#之前遗漏这种结果</span></span><br><span class="line">bfs(stx,sty,<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<p><strong>输出判定链接及题解</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/1216/learning/?page=3&first_category_id=1&sort=students_count&category_id=3&status=1">走迷宫 - 蓝桥云课 (lanqiao.cn)</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">略</span><br></pre></td></tr></table></figure>

<h1 id="7、BFS-最少操作数"><a href="#7、BFS-最少操作数" class="headerlink" title="7、BFS-最少操作数"></a>7、BFS-最少操作数</h1><p><strong>问题描述</strong></p>
<p>略</p>
<p><strong>自己的解法与答案</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">第一次：<span class="number">1</span>/<span class="number">5</span> 4over</span><br><span class="line">n,k =<span class="built_in">map</span>(<span class="built_in">int</span>,<span class="built_in">input</span>().split())</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bfs</span>(<span class="params">n,step</span>):</span><br><span class="line">  <span class="keyword">if</span> n==k:</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">  record=[n]</span><br><span class="line">  poplist=[(n,step)]</span><br><span class="line">  <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    (now_n,now_step)=poplist.pop(<span class="number">0</span>)</span><br><span class="line">    temp_n=now_n+<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> temp_n==k:</span><br><span class="line">      <span class="keyword">return</span> now_step+<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> temp_n <span class="keyword">not</span> <span class="keyword">in</span> record:</span><br><span class="line">      record.append(temp_n)</span><br><span class="line">      poplist.append((temp_n,now_step+<span class="number">1</span>))</span><br><span class="line">    temp_n=now_n-<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> temp_n==k:</span><br><span class="line">      <span class="keyword">return</span> now_step+<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> temp_n <span class="keyword">not</span> <span class="keyword">in</span> record:</span><br><span class="line">      record.append(temp_n)</span><br><span class="line">      poplist.append((temp_n,now_step+<span class="number">1</span>))</span><br><span class="line">    temp_n=now_n*<span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> temp_n==k:</span><br><span class="line">      <span class="keyword">return</span> now_step+<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> temp_n <span class="keyword">not</span> <span class="keyword">in</span> record:</span><br><span class="line">      record.append(temp_n)</span><br><span class="line">      poplist.append((temp_n,now_step+<span class="number">1</span>))</span><br><span class="line">res=bfs(n,<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line"></span><br><span class="line">第二次做的代码：<span class="number">2</span>/<span class="number">5</span> 1over <span class="number">2</span>超内存</span><br><span class="line">n,k=<span class="built_in">map</span>(<span class="built_in">int</span>,<span class="built_in">input</span>().split())</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bfs</span>():</span><br><span class="line">  pop_list=deque([(n,<span class="number">0</span>)])</span><br><span class="line">  res=[]</span><br><span class="line">  flag=[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">  <span class="keyword">while</span> pop_list:<span class="comment">#实际上少考虑了减的情况，例如12——&gt;22(12-11-22,两步)</span></span><br><span class="line">    <span class="comment">#print(pop_list)</span></span><br><span class="line">    w_n,step=pop_list.popleft()</span><br><span class="line">    w_add=w_n+<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> w_add==k <span class="keyword">and</span> flag[<span class="number">0</span>]:</span><br><span class="line">      res.append(step+<span class="number">1</span>)</span><br><span class="line">      flag[<span class="number">0</span>]=<span class="number">0</span></span><br><span class="line">    w_plus=w_n*<span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> w_plus==k <span class="keyword">and</span> flag[<span class="number">1</span>]:</span><br><span class="line">      res.append(step+<span class="number">1</span>)</span><br><span class="line">      flag[<span class="number">1</span>]=<span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> w_plus&gt;k <span class="keyword">and</span> flag[<span class="number">2</span>]:</span><br><span class="line">      res.append(step+<span class="number">1</span>+(w_plus-k))</span><br><span class="line">      flag[<span class="number">2</span>]=<span class="number">0</span></span><br><span class="line">    pop_list.append((w_add,step+<span class="number">1</span>))</span><br><span class="line">    pop_list.append((w_plus,step+<span class="number">1</span>))</span><br><span class="line">    <span class="comment">#print(flag)</span></span><br><span class="line">    <span class="keyword">if</span> flag[<span class="number">0</span>]==<span class="number">0</span> <span class="keyword">or</span> flag[<span class="number">1</span>]==<span class="number">0</span>:</span><br><span class="line">      <span class="built_in">print</span>(<span class="built_in">min</span>(res))</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line"><span class="keyword">if</span> n&gt;k:</span><br><span class="line">  <span class="built_in">print</span>(n-k)</span><br><span class="line"><span class="keyword">elif</span> n==k:</span><br><span class="line">  <span class="built_in">print</span>(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">  bfs()</span><br></pre></td></tr></table></figure>

<p><strong>输出判定链接及题解</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/1509/learning/?page=1&first_category_id=1&sort=students_count&tags=BFS">最少操作数 - 蓝桥云课 (lanqiao.cn)</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bfs</span>(<span class="params">q: deque, <span class="built_in">dir</span>: <span class="built_in">int</span>, news: <span class="built_in">tuple</span>, vis: <span class="built_in">set</span></span>):</span><br><span class="line">    <span class="comment"># 剪枝</span></span><br><span class="line">    <span class="keyword">if</span> news[<span class="number">0</span>] &gt; k:</span><br><span class="line">        addNum = news[<span class="number">0</span>] - <span class="number">1</span></span><br><span class="line">    <span class="comment"># 根据情况 0 1 2 分别对应 加 减 乘</span></span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">dir</span> == <span class="number">0</span>:</span><br><span class="line">        addNum = news[<span class="number">0</span>] + <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">dir</span> == <span class="number">2</span>:</span><br><span class="line">        addNum = news[<span class="number">0</span>] - <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        addNum = news[<span class="number">0</span>] * <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> addNum <span class="keyword">not</span> <span class="keyword">in</span> vis:</span><br><span class="line">        vis.add(addNum)</span><br><span class="line">        q.append((addNum, news[<span class="number">1</span>] + <span class="number">1</span>))</span><br><span class="line">q = deque()</span><br><span class="line">n, k = <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split())</span><br><span class="line">vis = <span class="built_in">set</span>()</span><br><span class="line">vis.add(n)</span><br><span class="line"><span class="comment"># (n, 0) 中 第一个为当 进行第二个操作时可得情况</span></span><br><span class="line">q.append((n, <span class="number">0</span>))</span><br><span class="line"><span class="keyword">while</span> q:</span><br><span class="line">    news = q.popleft()</span><br><span class="line">    <span class="keyword">if</span> news[<span class="number">0</span>] == k:</span><br><span class="line">        <span class="built_in">print</span>(news[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    bfs(q, <span class="number">0</span>, news, vis)</span><br><span class="line">    bfs(q, <span class="number">1</span>, news, vis)</span><br><span class="line">    bfs(q, <span class="number">2</span>, news, vis)</span><br><span class="line">通过率：<span class="number">5</span>/<span class="number">5</span></span><br></pre></td></tr></table></figure>

<p><strong>备注</strong></p>
<p>使用deque双向列表与set()加快运行速度，并多了“剪枝”步骤，提前排除不合理的分支。</p>
<h1 id="题目自评"><a href="#题目自评" class="headerlink" title="题目自评"></a>题目自评</h1><table>
<thead>
<tr>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th><strong>填空题正确率</strong></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>1</td>
<td>1</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>5</td>
<td>6</td>
<td>7</td>
<td>8</td>
<td>9</td>
<td>10</td>
<td><strong>编程题正确率</strong></td>
</tr>
<tr>
<td>5&#x2F;5</td>
<td>0&#x2F;8</td>
<td>0&#x2F;6</td>
<td>2&#x2F;5</td>
<td>4&#x2F;5</td>
<td>7&#x2F;7</td>
<td>2&#x2F;5</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">TreeioView</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://treeioview.github.io/posts/20230310/">https://treeioview.github.io/posts/20230310/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://treeioview.github.io" target="_blank">TreeioView</a>！</span></div></div><div class="tag_share"><div class="post_share"><div class="social-share" data-image="https://dogefs.s3.ladydaily.com/~/source/wallhaven/full/ex/wallhaven-exyr1w.jpg?w=2560&amp;h=1440&amp;fmt=webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/202303daily1/"><img class="prev-cover" data-src="https://dogefs.s3.ladydaily.com/~/source/wallhaven/full/9d/wallhaven-9doldx.png?w=2560&amp;h=1440&amp;fmt=webp" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Daily1-20:1随机题10+10</div></div></a></div><div class="next-post pull-right"><a href="/posts/20230308/"><img class="next-cover" data-src="https://dogefs.s3.ladydaily.com/~/source/wallhaven/full/p9/wallhaven-p9o51m.png?w=2560&amp;h=1440&amp;fmt=webp" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">DayALG_DFS:DFS算法真题</div></div></a></div></nav></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2023  <i id="heartbeat" class="fa fas fa-heartbeat"></i> TreeioView</div></div><head><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"></head></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font_plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font_minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script src="/js/calendar.js"></script><script src="/js/languages.js"></script></body></html>